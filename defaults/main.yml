---
# Default variables
# =================

# ---------------------
# General Configuration
# ---------------------

# .. envvar:: checkmk_server__version
#
# Check_MK software version
checkmk_server__version: '1.2.8p1'


# .. envvar:: checkmk_server__patches
#
# Custom patches to apply after installing Check_MK package
checkmk_server__patches:
  - patch: 'check-mk-raw-1.2.6p15-fix-omd-setup.patch'
    file: '/omd/versions/{{ checkmk_server__version }}.cre/bin/omd'


# ------------
# APT packages
# ------------

# .. envvar:: checkmk_server__raw_package
#
# Check_MK RAW package download URL. Alternatively this can also be a local
# deb file or a package name in an already available apt repository.
checkmk_server__raw_package: 'https://mathias-kettner.de/support/{{ checkmk_server__version }}/check-mk-raw-{{ checkmk_server__version }}_0.{{ ansible_distribution_release }}_amd64.deb'


# .. envvar:: checkmk_server__prerequisite_packages
#
# List of prerequisite packages which must be available before installing
# the Check_MK RAW package
checkmk_server__prerequisite_packages: [ 'apache2', 'aptitude' ]


# ---------------------------
# Check_MK Site Configuration
# ---------------------------

# .. envvar:: checkmk_server__site
#
# Check_MK site name
checkmk_server__site: 'debops'


# .. envvar:: checkmk__server_user
#
# Check_MK site user name (mustn't exist before creating the site)
checkmk_server__user: '{{ checkmk_server__site }}'


# .. envvar:: checkmk_server__runtime_config
#
# Check_MK site runtime configuration (``omd config``). Changing
# these values will shutdown Check_MK for reconfiguration.
checkmk_server__runtime_config:
  - var: 'ADMIN_MAIL'
    value: 'hostmaster@{{ ansible_domain }}'
  - var: 'CORE'
    value: 'icinga'
